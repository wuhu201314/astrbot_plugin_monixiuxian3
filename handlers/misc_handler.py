# handlers/misc_handler.py
from astrbot.api.event import AstrMessageEvent
from ..data import DataBase

__all__ = ["MiscHandler"]


class MiscHandler:
    """杂项指令处理器 - 提供帮助信息"""

    def __init__(self, db: DataBase):
        self.db = db

    async def handle_help(self, event: AstrMessageEvent):
        """显示帮助信息"""
        help_text = (
            "📖 修仙指令大全 v4.0\n"
            "━━━━━━━━━━━━━━━\n"
            "\n"
            "【📖 入门基础】\n"
            "  我要修仙 [灵修/体修] - 创建角色\n"
            "  我的信息 - 查看角色面板\n"
            "  签到 - 每日签到领奖励\n"
            "  改道号 <名称> - 修改道号\n"
            "  逆天改命 - 重置灵根(10000灵石)\n"
            "\n"
            "【🧘 修炼突破】\n"
            "  闭关 - 开始闭关修炼\n"
            "  出关 - 结束闭关获取修为\n"
            "  突破 [丹药名] - 尝试突破境界\n"
            "  突破信息 - 查看突破条件\n"
            "\n"
            "【⚡ 沉浸式修仙】\n"
            "  天劫信息 - 天劫系统说明\n"
            "  悟道信息 - 悟道系统说明\n"
            "  福缘信息 / 求福缘 - 福缘系统\n"
            "  心魔信息 / 抵抗 / 屈服 - 心魔系统\n"
            "\n"
            "【🎒 装备丹药】\n"
            "  我的装备 - 查看已装备物品\n"
            "  装备 <名> / 卸下 <名>\n"
            "  丹药背包 - 查看丹药\n"
            "  丹药信息 <名> - 查看丹药效果\n"
            "  服用丹药 <名> - 使用丹药\n"
            "\n"
            "【🏪 商店系统】\n"
            "  丹阁 / 器阁 / 百宝阁 - 查看商店\n"
            "  购买 <物品名> [数量]\n"
            "\n"
            "【📦 储物戒】\n"
            "  储物戒 - 查看储物空间\n"
            "  存入 <物品> [数量] / 取出 <物品> [数量]\n"
            "  搜索物品 <关键词>\n"
            "  取出所有 <分类>\n"
            "  更换储物戒 <名称> - 升级储物戒\n"
            "  丢弃 <物品> [数量]\n"
            "  赠予 @某人 <物品> [数量]\n"
            "  接收 / 拒绝 - 处理赠予\n"
            "\n"
            "【🏦 灵石银行】\n"
            "  银行 - 查看银行信息\n"
            "  存灵石 <数量> / 取灵石 <数量>\n"
            "  领取利息 - 领取存款利息\n"
            "  贷款 <金额> - 普通贷款\n"
            "  突破贷款 <金额> - 短期贷款\n"
            "  还款 - 偿还贷款\n"
            "  银行流水 - 交易记录\n"
            "\n"
            "【📜 悬赏任务】\n"
            "  悬赏令 - 查看悬赏任务\n"
            "  接取悬赏 <编号>\n"
            "  悬赏状态 / 完成悬赏 / 放弃悬赏\n"
            "\n"
            "【🏛️ 宗门系统】\n"
            "  创建宗门 <名> / 加入宗门 <名>\n"
            "  我的宗门 / 宗门列表\n"
            "  退出宗门 / 宗门捐献 <数量>\n"
            "  宗门任务\n"
            "  踢出成员 @某人 / 宗主传位 @某人\n"
            "  职位变更 @某人 <职位ID>\n"
            "\n"
            "【⚔️ 战斗系统】\n"
            "  切磋 @某人 - 友好切磋\n"
            "  决斗 @某人 - 生死决斗\n"
            "  世界Boss [编号] - 查看Boss\n"
            "  挑战Boss <编号> - 挑战Boss\n"
            "  传承挑战 @某人 / 传承排行\n"
            "\n"
            "【📊 排行榜】\n"
            "  境界排行 / 战力排行 / 灵石排行\n"
            "  宗门排行 / 存款排行 / 贡献排行\n"
            "\n"
            "【🚶 历练系统】\n"
            "  开始历练 [短途/中途/长途]\n"
            "  历练状态 / 完成历练 / 历练信息\n"
            "\n"
            "【🌀 秘境探索】\n"
            "  秘境列表 - 查看秘境\n"
            "  探索秘境 <ID> - 进入秘境\n"
            "  完成探索 / 退出秘境\n"
            "\n"
            "【🔥 炼丹系统】\n"
            "  丹药配方 - 查看配方\n"
            "  炼丹 <配方ID> - 炼制丹药\n"
            "\n"
            "【✨ 传承系统】\n"
            "  传承信息 - 查看传承加成\n"
            "\n"
            "【🏔️ 洞天福地】\n"
            "  我的洞天 - 查看洞天\n"
            "  购买洞天 <1-5> / 升级洞天\n"
            "  洞天收取 - 收取产出\n"
            "\n"
            "【🌾 灵田种植】\n"
            "  我的灵田 / 开垦灵田 / 升级灵田\n"
            "  种植 <灵草名> / 收获\n"
            "\n"
            "【💕 双修系统】\n"
            "  双修 @某人\n"
            "  接受双修 / 拒绝双修\n"
            "\n"
            "【👁️ 天地灵眼】\n"
            "  灵眼信息 - 查看所有灵眼\n"
            "  抢占灵眼 <ID> / 灵眼收取 / 释放灵眼\n"
            "\n"
            "【💰 灵石互动】\n"
            "  送灵石 @某人 <数量>\n"
            "  偷灵石 @某人 / 抢灵石 @某人\n"
            "  灵石互动 - 查看规则\n"
            "\n"
            "【🧧 仙缘红包】\n"
            "  送仙缘 <金额> <份数> [祝福语]\n"
            "  抢仙缘 / 仙缘说明\n"
            "\n"
            "【🗼 通天塔】\n"
            "  挑战通天塔 / 速通通天塔 [层数]\n"
            "  通天塔信息 / 通天塔BOSS\n"
            "  通天塔排行榜 / 通天塔积分排行榜\n"
            "  通天塔商店 / 通天塔兑换 <编号>\n"
            "  通天塔帮助\n"
            "\n"
            "【👥 社交互动】\n"
            "  收徒 @某人 / 拜师 @某人\n"
            "  师徒信息 / 离开师门\n"
            "  求道侣 @某人 (5000灵石)\n"
            "  接受道侣 / 拒绝道侣 / 解除道侣\n"
            "  道侣信息\n"
            "  论道 @某人 - 论道获修为\n"
            "  社交帮助\n"
            "\n"
            "【🏴 黑市】\n"
            "  黑市 - 查看所有丹药(价格翻倍)\n"
            "  黑市购买 <丹药名> [数量]\n"
            "\n"
            "━━━━━━━━━━━━━━━\n"
            "💡 指令前加 / 使用，如 /我要修仙\n"
            "💡 @某人 可直接@或输入ID"
        )
        yield event.plain_result(help_text)
